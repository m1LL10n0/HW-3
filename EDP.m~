%% var cacheline
figure
y = [93.068378 123.943021 152.304291; 258.754606 232.742198 210.371373; 65.094718 93.410958 115.668455; 63.312036 91.312541 110.359143; 798.776352 659.168626 531.434776];
bar(y);

title('Varying Cacheline Size');
set(gca, 'XTickLabel', {'specbzip', 'speclibm', 'specmcf', 'spechmmer', 'specsjeng'},'yscale','log')
ylabel('EDP')

legend('32b','64b','128b','Location','Northwest')

%% var l1d size
figure
y = [74.298779 123.943021 153.069087; 144.603485 232.742198 290.341287; 56.117842 93.410958 116.602165; 52.747977 91.312541 114.380589; 419.690682 659.168626 821.812740];
bar(y);

title('Varying L1 Data Cache Size');
set(gca, 'XTickLabel', {'specbzip', 'speclibm', 'specmcf', 'spechmmer', 'specsjeng'},'yscale','log')
ylabel('EDP')

legend('32kb','64kb','128kb','Location','Northwest')

%% var l1i size
figure
y = [123.943021 157.831262 181.737013; 23.051718 30.051895 34.989997; 93.410958 109.572957 125.948751; 91.312541 115.333605 132.292281; 659.168626 867.200808 1013.955760];
bar(y);

title('Varying L1 Instruction Cache Size');
set(gca, 'XTickLabel', {'specbzip', 'speclibm', 'specmcf', 'spechmmer', 'specsjeng'},'yscale','log')
ylabel('EDP')

legend('32kb','64kb','128kb','Location','Northwest')

%% var l2 size
figure
y = [127.961542 125.217515 123.157072; 231.607449 232.534142 234.275757; 93.291871 93.247740 94.029666; 91.040653 91.152247 91.644709; 654.961541 656.784217 663.003266];
bar(y);

title('Varying L2 Cache Size');
set(gca, 'XTickLabel', {'specbzip', 'speclibm', 'specmcf', 'spechmmer', 'specsjeng'},'yscale','log')
ylabel('EDP')

legend('512kb','1024kb','4096kb','Location','Northwest')

%% var l1d assoc 
figure
y = [10.574440 10.368329 8.350627; 40.933874 40.674725 32.309334; 5.863085 5.843136 4.786087; 5.586453 5.423059 4.433112; 338.080609 338.696001 268.376357];
bar(y);

title('Varying L1 Data Cache Associativity');
set(gca, 'XTickLabel', {'specbzip', 'speclibm', 'specmcf', 'spechmmer', 'specsjeng'},'yscale','log')
ylabel('EDP')

legend('1','2','4','Location','Northwest')

%% var l1i assoc
figure
y = [10.369814 10.368329 10.924354; 40.834795 40.674725 43.095187; 6.653877 5.843136 5.211823; 6.574163 5.423052 5.701132; 338.755442 338.696001 359.630051];
bar(y);

title('Varying L1 Instruction Cache Associativity');
set(gca, 'XTickLabel', {'specbzip', 'speclibm', 'specmcf', 'spechmmer', 'specsjeng'},'yscale','log')
ylabel('EDP')

legend('1','2','4','Location','Northwest')

%% var l2 assoc
figure
y = [10.592701 10.432378 10.359115; 40.661439 40.668586 40.669807; 5.845929 6.016211 5.842386; 5.422456 5.422745 5.422826; 338.434869 338.736772 338.639777];
bar(y);

title('Varying L2 Cache Associativity');
set(gca, 'XTickLabel', {'specbzip', 'speclibm', 'specmcf', 'spechmmer', 'specsjeng'},'yscale','log')
ylabel('EDP')

legend('1','2','4','Location','Northwest')

%% apothikeusi ton diagrammaton
for i=1:7                                 
    figure(i)
    savefig("figures/Figure"+i+".fig")
    print("figures/Figure"+i,'-djpeg')
end